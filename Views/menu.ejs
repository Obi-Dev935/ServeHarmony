<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="author" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Menu Page</title>
  <link rel="stylesheet" href="/css/styles.css">
  <!-- GSAP and ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/ScrollTrigger.min.js"></script>
</head>
<body>
  <main>
    <!-- View Cart Button at a prominent place -->
    <div class="card" id="viewCart">
      <button><a href="/restaurant/cart">View Cart</a></button>
    </div>

    <section>
      <div>
        <% if (restaurants && restaurants.categories) { %>
        <% restaurants.categories.forEach(category => { %>
          <h2 class="category"><%= category.name %></h2>
          <ul class="grid">
            <% category.items.forEach(item => { %>
              <li class="card">
                <img src="/images/<%= item.img %>" alt="<%= item.name %>">
                <h3><%= item.name %></h3>
                <p><%= item.details %></p>
                <p>Price: <%= item.price %> SAR</p>
                <button onclick="addtoCart(this)" data-id="<%= item.menuItemId %>" data-img="<%= item.img %>" data-name="<%= item.name %>" data-price="<%= item.price %>">Add to Cart</button>
              </li>
            <% }); %>
          </ul>
          <% }); %>
          <% }; %>
      </div>
    </section>
  </main>
  <script>
    // Animation script
    document.addEventListener('DOMContentLoaded', function () {
        gsap.registerPlugin(ScrollTrigger);
        const cards = gsap.utils.toArray(".card");
        cards.forEach(card => {
            const anim = gsap.fromTo(card, 
                { autoAlpha: 0, y: 100, x: -100, rotate: -10 },
                { duration: 0.6, autoAlpha: 1, y: 0, x: 0, rotate: 0 }
            );
            ScrollTrigger.create({
                trigger: card,
                animation: anim,
            });
        });
    });
  </script>
  <!-- Additional scripts for cart functionality -->
  <script src="/js/script.js"></script>
  <script src="/js/addToCart.js"></script>
</body>
</html>
